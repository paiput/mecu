(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(35),r=c.n(s),a=c(7),o=c(6),i=c(5),A=(c(41),c(21)),u="/api/products",l={getAll:function(){return A.get(u).then((function(e){return e.data}))},getProduct:function(e){return A.get("".concat(u,"/").concat(e)).then((function(e){return e.data}))},postProduct:function(e){return A.post(u,e).then((function(e){return e.data}))}},d={handleClick:function(e){e((function(e){return!e}))},handleClickOutsideHambMenu:function(e,t){var c=e.target.classList;c.contains("nav__hamburger")||c.contains("nav__hamburger-child")||t(!1)},handleClickOutsideCartContainer:function(e,t){var c=e.target.classList;c.contains("cart-button")||e.target.parentElement.classList.contains("cart-button")||c.contains("cart-container")||e.target.parentElement.classList.contains("cart-container")||t(!1)},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},j=c(21),b={login:function(e){return j.post("/api/login",e)},getLoggedUser:function(){return j.get("/api/user")},logout:function(){return j.get("/api/logout")}},m=Object(n.createContext)(null),h=Object(n.createContext)(null),p=c(15),O=c(74),x=c(75),g=c(76),Q=c(68),f=c(69),B=c(70),E=c(71),C=c(72),v=c(73),w=c(0),U=function(){var e=Object(n.useContext)(m).user;return Object(w.jsx)("div",{className:"hamb-menu",children:e?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(o.b,{to:"/account",className:"hamb-menu__link",children:[Object(w.jsx)(Q.a,{}),"Cuenta"]}),Object(w.jsxs)(o.b,{to:"/account/favorites",className:"hamb-menu__link",children:[Object(w.jsx)(f.a,{}),"Favoritos"]}),Object(w.jsxs)(o.b,{to:"/sell",className:"hamb-menu__link",children:[Object(w.jsx)(B.a,{}),"Vender"]}),Object(w.jsxs)(o.b,{to:"/account/balance",className:"hamb-menu__link",children:[Object(w.jsx)(E.a,{}),"Cargar saldo"]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(o.b,{to:"/login",className:"hamb-menu__link",children:[Object(w.jsx)(C.a,{style:{transform:"rotate(45deg)"}}),"Iniciar sesi\xf3n"]}),Object(w.jsxs)(o.b,{to:"/register",className:"hamb-menu__link",children:[Object(w.jsx)(v.a,{}),"Registrarse"]})]})})},N=function(e){var t=e.product;return Object(w.jsxs)("div",{className:"cart-product",children:[Object(w.jsx)("h4",{children:t.name}),Object(w.jsxs)("p",{children:["$",t.price]})]})},I=function(){var e=Object(n.useContext)(m).user,t=Object(n.useContext)(h),c=t.cart,s=t.setCart;return Object(w.jsx)("div",{className:"cart-container",children:e?c.length>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"cart__products-container",children:c.map((function(e){return Object(w.jsx)(N,{product:e},e._id)}))}),Object(w.jsx)("button",{onClick:function(){s([])},className:"text-button primary-button",children:"Vaciar carrito"})]}):Object(w.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}):Object(w.jsx)("p",{children:"Inici\xe1 sesi\xf3n para poder acceder al carrito"})})},K=function(e){var t=e.hambMenuState,c=e.cartState,s=t.hambMenu,r=t.setHambMenu,a=c.cartContainer,i=c.setCartContainer,A=Object(n.useContext)(h).cart;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("header",{className:"header",children:[Object(w.jsx)("p",{className:"header__logo",children:Object(w.jsx)(o.b,{to:"/",children:Object(w.jsx)(O.a,{className:"icon big-icon"})})}),Object(w.jsxs)("nav",{className:"nav",children:[Object(w.jsxs)("form",{className:"search-bar",children:[Object(w.jsx)("button",{type:"submit",children:Object(w.jsx)(x.a,{className:"icon normal-icon"})}),Object(w.jsx)("input",{type:"text",placeholder:"Buscar productos..."})]}),Object(w.jsxs)("div",{className:"tools-container",children:[Object(w.jsxs)("div",{className:"nav__hamburger ".concat(s?"change-to-cross":""),onClick:function(){d.handleClick(r)},children:[Object(w.jsx)("div",{className:"nav__hamburger-child"}),Object(w.jsx)("div",{className:"nav__hamburger-child"}),Object(w.jsx)("div",{className:"nav__hamburger-child"})]}),Object(w.jsxs)("button",{className:"cart-button",onClick:function(){d.handleClick(i)},children:[Object(w.jsx)(g.a,{className:"icon big-icon"}),0===A.length?"":Object(w.jsx)("span",{className:"cart-button__products-counter",children:A.length>9?"9+":A.length})]})]})]})]}),a&&Object(w.jsx)(I,{}),s&&Object(w.jsx)(U,{})]})},k=c(4),S=c(77),M=c(78),y=c(79),q=c(21),D="/api/users",R={updateUserBalance:function(e,t){return q.put("".concat(D,"/").concat(e,"/balance"),t).then((function(e){return e.data}))},handleProductLike:function(e,t){return q.put("".concat(D,"/").concat(e,"/likes"),t).then((function(e){return e.data}))},handleProductPurchase:function(e,t,c){return t.price*c>e.balance?{updatedUser:Promise.reject(new Error("failedUser")),updatedProduct:Promise.reject(new Error("failedProduct"))}:{updatedUser:q.put("".concat(D,"/").concat(e.username,"/balance"),{amountToLoad:"-".concat(t.price*c)}).then((function(e){return e.data})),updatedProduct:q.put("/api/products/".concat(t._id),{amountToBuy:c}).then((function(e){return e.data})),updatedProductOwner:q.put("".concat(D,"/").concat(t.user.username,"/balance"),{amountToLoad:"".concat(t.price*c)})}}},P="data:image/jpeg;base64,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A8U8A408888U488s88c88M8scUsMc488008s88s888cc888s48c0ss8s88ss88c8888880s8888M8o8oMcccsM8M8Es884csE8c8oss8888E848s48088o848Qg8848sU8888co88c8E8s8M4cs8888Qs4488o88E8c8Ms888c8A8s8Msc884sYkY0U88s8sE8c8Ms88888U8884880I4M0M8Isc8s88c888888M8c8gso8QMUMQocw888Mg4g84QcUs8c88888U848wM0cYAAAAAAAAQI88w808w888888E8s8IoY8A4MY88Q88oE80E8c80888s88U88kscg0AoIAs4QI0oU8cU888c888sscEc48AI4UAs88sEAwookMsQ80sAMs8888E8s8s4k4A8oEMgAAgoA88M8c8c8s8888E8s448MQA4QAAAAAUgQ80c8c88888888A8o8s8sgAgAgAAAAAAQ8sE8c8c88wMccEss8IMsUAAAAAAAAAAEs0E8cscUM8888U8s8Yk8E88g8I8Uo88s88Y8Msk8o8w4UE4o8Qgw00wg4QwQggwkQsU0QowUAw888c8s8888s488888cs88s88c8888888AAUkMIQQEgEMIAEIEAIAAAE0EMMogQAM888U8s4os8U88o8M8cs48s80M888M8o8ww0UoY8ww4U04g0wwQowwgw8c004w0g8M8cU88oI88ccss8scMsMMccUU88sc8s8/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBIP//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QSD//xAArEAAABAQGAQMFAQAAAAAAAAAAEDFxAREg8CEwQEFRYVCBkaFgscHh8dH/2gAIAQEAAT8QqR4ojQuJ1bqTqHE43Bwcbg4OJwcHBwcHVOzDjcHUQ8kABGaQoI8KAIoXSEaECPoIwAA7xIdoXaAdS4nUOqcTqXaF2jdS7wjstAR4gAABARQR9IABARqwRmiAjSiM4lXlRlTDsHgEsuRmyow8CABchMPzsDcB/AgaCgyJHQBGhCNQ9DAB/BAggOMewoYY0F3MxBizCRGhhSEaUAvUGAnY5U3B0jGgXwKmCJQOjPlP3EegzDVgUMrESOULBFBGhCAjRg8U3YG7HMh/lngUILohgoYsBwc/MR4cAIUnRPrtsUNhLt5go5aPDBxA++AaYkhG2E9YiA/0BSiSoFvx7ENYoDGNIgB7mMCoTBiCHER9wIgfAnA1BJWjPC5Fw40aMQYP4AQx4FGOmRisp0goKRJaODIiTSZE86tlLCYTDYTB7Cg/wT0AFQkekjkGJllQIAtIklAbCUfissOIiIiIjsBRUgkYlwGAAUhER4A5FSYTCYbDZloCMg/YCJIi2UCcRzRr8kcQcCKEBPNFEmm+woL14J0f2jCBbxEyRA8sgBHkgPcBBOhYuDiMMu4iziRrOIu4ka7iLuIu4iziLuJGu4i7iLOIu4ixiFUxFiFcd+DH3AIJD0JYKIgdoix0GJ8I5OxcaQE//wD/AP8A/wD/APz/AP7B0y+R93hAAAkiCmGxe2EEqdi4qABSKMAPj5TjOBauRvFx3qgjKfExESJJNbDsIGexcUAaiTBYj9wJJEpICzYt1QCAwiqHFVq5G8XXdJGlARlA+AGFiPcIBCUAQ9RHwIZBJYuM0AIAVMP6Agi5YQd1IBauRvF13qgAEZbCDhci4liA/gJEMFi4oA+JMKKR9AolBwLs549keonRKHR0AE84PxVi/wBpwmA+QckPkQLHauSuu6UaUCAjIBBPkSQiAQjihsMQKTsMSIsXFIAnxEbA44H+OOtB/AKghSf1XjblRUkAJCVhgoDHR4oCHrVyVx3QI8EAAYEQShIPcRAFFi4ywS87ZpahFRiZsJMlj7GStXJXXerARlm4ikqPiIncXAWLioEh/NHhI+3HpFItxPRgJn3CibelWSDQdhuJg7MCtXI3i470QSyKMwwCBCwEbOfriNoXLsRA5oRaoGOH+7CI/YHABGGfsIC2VGbDlJYnKNG+j4A1AkVq5K478OHvAEqF7TVclSDYDCH3Oh/ANI6yN9CgSnLhGJWrkbxdd6oRmkMm0OqgXYhowfwYsQ6qaTRvpg8AmBQGRkLVyQuO9UQEZhM6Q6BsnBxYMMaQfoS0GeIQBCEoShKEq3YFigWrkrruhAR4MBJvH5QhpZMTAzMzMzMzMzMz7otTCuO9GkDg4SE4kBBOpHEcZIO0pBCjAioOIm8nh5dA6A8dBPJ5vDzuOycaKDjcZxODshGeBEW8SKCmmu7u7u7u7u7u7u76aUrCkR9PAAABlDKmBlDKjNQMyCAjKEa4AgI0oAI8wAAAAAAAAk+lwDPqcAAAAAAAAGIyHEZH0UyFFAkdiMqchkMhxPKruQ4jIZDifZUSMoMipDLTQdW6g6o7UAdkIzjGvjmcdNY5c4SeVAJAwdgYJCQchJDkIwSF2CQpDMDAwdhSBgkEgQJCYOwSCQSBg7AwSUyEkOQkgkKQMMcaQkZIIpJyyHIU9FxiBIUlIA4klBGlABHigjP/AP/Z",F=function(e){var t=e.product,c=Object(n.useContext)(m),s=c.user,r=c.setUser,a=Object(n.useContext)(h),i=a.cart,A=a.setCart;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"product__img-container",children:Object(w.jsx)(o.b,{to:"/products/".concat(t._id),children:Object(w.jsx)("img",{className:"product__img",src:P,alt:"..."})})}),Object(w.jsxs)("div",{className:"product-info",children:[Object(w.jsx)("p",{className:"product__name",children:t.name}),Object(w.jsxs)("p",{className:"product__price",children:["$",d.numberWithCommas(t.price)]}),Object(w.jsxs)("div",{className:"product__buttons-container",children:[Object(w.jsx)(o.b,{to:"/products/".concat(t._id),className:"text-button primary-button product-link",children:"Ver"}),Object(w.jsxs)("div",{className:"icon-button-container",children:[Object(w.jsx)("button",{className:"product-button",onClick:function(){s?R.handleProductLike(s.username,t).then((function(e){r((function(t){return Object(k.a)(Object(k.a)({},t),{},{likedProducts:e})}))})).catch((function(e){console.log("Error while liking product",e)})):alert("Inici\xe1 sesi\xf3n para guardar productos en favoritos")},children:(null===s||void 0===s?void 0:s.likedProducts.some((function(e){return e._id===t._id})))?Object(w.jsx)(S.a,{className:"icon big-icon heart"}):Object(w.jsx)(f.a,{className:"icon big-icon heart"})}),Object(w.jsx)("button",{className:"product-button",onClick:function(){s?i.includes(t)?A((function(e){return e.filter((function(e){return e._id!==t._id}))})):A((function(e){return e.concat(t)})):alert("Inici\xe1 sesi\xf3n para guardar productos en el carrito")},children:i.includes(t)?Object(w.jsx)(M.a,{className:"icon big-icon"}):Object(w.jsx)(y.a,{className:"icon big-icon"})})]})]})]})]})},L=function(e){var t=e.product;return Object(w.jsxs)("div",{className:"product-card featured-product",children:[Object(w.jsx)("div",{className:"product__title-container",children:Object(w.jsx)("h3",{className:"product__title",children:"Producto destacado"})}),Object(w.jsx)(F,{product:t})]})},J=function(e){var t=e.product;return Object(w.jsx)("div",{className:"latest-product",children:Object(w.jsx)(F,{product:t})})},_=function(e){var t=e.products;return Object(w.jsxs)("div",{className:"product-card latest-products",children:[Object(w.jsx)("div",{className:"product__title-container",children:Object(w.jsx)("h3",{className:"product__title",children:"\xdaltimas publicaciones"})}),Object(w.jsx)("div",{className:"latest-products-container",children:t.map((function(e){return Object(w.jsx)(J,{product:e},e._id)}))})]})},Y=c(14),W=c(80),H=function(e){var t=e.msg;return Object(w.jsxs)("div",{className:"input-msg-container",children:[Object(w.jsx)(W.a,{}),Object(w.jsx)("p",{children:t})]})},G=c(81),V=function(e){var t,c,s=e.setBuyNow,r=e.product,a=Object(n.useContext)(m),o=a.user,i=a.setUser,A=Object(Y.a)(),u=A.register,l=A.handleSubmit,j=A.formState.errors,b=A.reset,h=function(e){e.target.classList.contains("buy-now-container")||e.target.parentElement.classList.contains("buy-now-container")||e.target.parentElement.parentElement.classList.contains("buy-now-container")||s(!1)};Object(n.useEffect)((function(){return document.addEventListener("click",h,!0),function(){document.removeEventListener("click",h,!0)}}));return Object(w.jsx)("div",{className:"buy-now-container__shadow",children:Object(w.jsxs)("form",{className:"buy-now-container",onSubmit:l((function(e){var t=e.amountToBuy,c=R.handleProductPurchase(o,r,t),n=c.updatedUser,a=c.updatedProduct;n.then((function(e){console.log("Balance del usuario comprador:",e),i((function(t){return Object(k.a)(Object(k.a)({},t),{},{balance:e})}))})).catch((function(e){alert("error con el usuario")})),a.then((function(e){console.log("Producto comprado:",e)})).catch((function(e){alert("error con el producto")})),b(),s(!1)})),children:[Object(w.jsx)("button",{className:"product-button exit-button",onClick:function(){return s(!1)},children:Object(w.jsx)(G.a,{className:"icon big-icon"})}),Object(w.jsx)("h2",{children:r.name}),Object(w.jsxs)("h3",{children:["$",d.numberWithCommas(r.price)]}),Object(w.jsxs)("h3",{children:[r.quantity," unidades restantes"]}),Object(w.jsxs)("h3",{children:["Por: ",r.user.username]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:"Cantidad a comprar"}),Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"number",id:"input__product-amount-to-buy",onKeyPress:function(e){(e.which<48||e.which>57)&&e.preventDefault()},defaultValue:1},u("amountToBuy",{min:1,max:r.quantity}))),"min"===(null===(t=j.amountToBuy)||void 0===t?void 0:t.type)&&Object(w.jsx)(H,{msg:"Se debe comprar al menos un producto"}),"max"===(null===(c=j.amountToBuy)||void 0===c?void 0:c.type)&&Object(w.jsx)(H,{msg:"Supera la cantidad de unidades disponibles"})]}),Object(w.jsx)("button",{type:"submit",className:"text-button primary-button",children:"Finalizar compra"})]})})},X=function(){var e=Object(n.useState)({}),t=Object(a.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!0),o=Object(a.a)(r,2),A=o[0],u=o[1],j=Object(n.useState)(!1),b=Object(a.a)(j,2),p=b[0],O=b[1],x=Object(i.h)().id,g=Object(n.useContext)(m),Q=g.user,B=g.setUser,E=Object(n.useContext)(h),C=E.cart,v=E.setCart;Object(n.useEffect)((function(){l.getProduct(x).then((function(e){s(e),u(!1),window.scrollTo(0,0)}))}),[x,null===Q||void 0===Q?void 0:Q.balance]);var U=function(){Q?C.includes(c)?v((function(e){return e.filter((function(e){return e._id!==c._id}))})):v((function(e){return e.concat(c)})):alert("Inici\xe1 sesi\xf3n para guardar productos en el carrito")},N=function(){Q?R.handleProductLike(Q.username,c).then((function(e){B((function(t){return Object(k.a)(Object(k.a)({},t),{},{likedProducts:e})}))})).catch((function(e){console.log("Error while liking product",e)})):alert("Inici\xe1 sesi\xf3n para guardar productos en favoritos")},I=function(){Q?O(!0):Q||alert("Inici\xe1 sesi\xf3n para poder comprar un producto")};return A?Object(w.jsx)("p",{children:"Cargando producto..."}):Object(w.jsxs)("div",{className:"product-details",children:[Object(w.jsx)("h2",{className:"product-details__name",children:c.name}),Object(w.jsxs)("div",{className:"product__img-container",children:[Object(w.jsx)("button",{className:"product-button product-details__like-button",onClick:N,children:(null===Q||void 0===Q?void 0:Q.likedProducts.some((function(e){return e._id.toString()===c._id})))?Object(w.jsx)(S.a,{className:"icon big-icon heart"}):Object(w.jsx)(f.a,{className:"icon big-icon heart"})}),Object(w.jsx)("img",{className:"product__img",src:P,alt:"..."})]}),Object(w.jsxs)("div",{className:"product-details__text-container",children:[Object(w.jsx)("p",{className:"product-details__description",children:c.description}),Object(w.jsxs)("p",{className:"product-details__price",children:["$",d.numberWithCommas(c.price)]}),Object(w.jsxs)("p",{children:["Publicado por: ",c.user.username]}),c.quantity>1?Object(w.jsxs)("p",{className:"product-details__quantity",children:["Quedan ",Object(w.jsx)("strong",{children:c.quantity})," unidades"]}):1===c.quantity?Object(w.jsx)("p",{className:"product-details__quantity",children:Object(w.jsx)("strong",{style:{color:"var(--red)"},children:"\xdanica unidad disponible"})}):Object(w.jsx)("p",{children:"No quedan unidades disponibles"}),c.quantity>=1?Object(w.jsxs)("div",{className:"product-details__buttons-container",children:[Object(w.jsx)("button",{className:"product-details__button text-button primary-button",onClick:I,children:"Comprar ahora"}),Object(w.jsx)("button",{className:"product-details__button text-button secondary-button",onClick:U,children:C.includes(c)?"Quitar del carrito":"Agregar al carrito"})]}):Object(w.jsx)("button",{className:"text-button",disabled:"true",children:"La publicaci\xf3n est\xe1 pausada"})]}),Object(w.jsx)("div",{className:"related-products",children:c.user.products.length>0?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("h3",{children:["Otros productos publicados por ",c.user.username]}),c.user.products.map((function(e){return Object(w.jsx)(J,{product:e},e._id)}))]}):""}),p&&Object(w.jsx)(V,{setBuyNow:O,product:c})]})},T=function(){var e,t,c,s,r,a,o,i,A,u,d,j,b=Object(n.useContext)(m).user,h=Object(Y.a)(),p=h.register,O=h.handleSubmit,x=h.formState.errors,g=h.reset,Q=function(e){var t=e.currentTarget.value;t.includes("  ")&&(t=t.replace(/\s\s/g," ")),t.includes(" ")&&(t=t.replace(/^\s/g,"")),t.includes("\n")&&(t=(t=t.replace(/\n\n\n/g,"\n")).replace(/^\n/g,""))},f=function(e){(e.which<48||e.which>57)&&e.preventDefault()};return Object(w.jsx)("div",{className:"sell-form-container",children:Object(w.jsxs)("form",{className:"sell-form",onSubmit:O((function(e){var t=Object(k.a)(Object(k.a)({},e),{},{username:b.username});l.postProduct(t).then((function(e){console.log("Product published:",e)})).catch((function(e){alert("Lo sentimos, el producto no pudo ser publicado"),console.log("Error on POST:",e)})),g()})),children:[Object(w.jsxs)("div",{className:"sell-form__input-container",children:[Object(w.jsx)("label",{htmlFor:"name",children:"Producto:"}),Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"text",id:"input__product-name",onKeyPress:Q},p("name",{required:!0,minLength:4,maxLength:35}))),"required"===(null===(e=x.name)||void 0===e?void 0:e.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"}),"minLength"===(null===(t=x.name)||void 0===t?void 0:t.type)&&Object(w.jsx)(H,{msg:"No supera el m\xednimo de caracteres requeridos"}),"maxLength"===(null===(c=x.name)||void 0===c?void 0:c.type)&&Object(w.jsx)(H,{msg:"Supera el l\xedmite de caracteres"})]}),Object(w.jsxs)("div",{className:"sell-form__input-container",children:[Object(w.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n:"}),Object(w.jsx)("textarea",Object(k.a)({className:"form-container__input",id:"input__product-description",onKeyPress:Q},p("description",{required:!0,minLength:25,maxLength:750}))),"required"===(null===(s=x.description)||void 0===s?void 0:s.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"}),"minLength"===(null===(r=x.description)||void 0===r?void 0:r.type)&&Object(w.jsx)(H,{msg:"No supera el m\xednimo de caracteres requeridos"}),"maxLength"===(null===(a=x.description)||void 0===a?void 0:a.type)&&Object(w.jsx)(H,{msg:"Supera el l\xedmite de caracteres"})]}),Object(w.jsxs)("div",{className:"sell-form__input-container",children:[Object(w.jsx)("label",{htmlFor:"price",children:"Precio:"}),Object(w.jsxs)("div",{className:"product-price__container form-container__input",children:[Object(w.jsx)("span",{className:"price-symbol",children:"$"}),Object(w.jsx)("input",Object(k.a)({type:"number",id:"input__product-price",onKeyPress:f},p("price",{required:!0,min:1,max:9999999})))]}),"required"===(null===(o=x.price)||void 0===o?void 0:o.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"}),"min"===(null===(i=x.price)||void 0===i?void 0:i.type)&&Object(w.jsx)(H,{msg:"No supera el precio m\xednimo"}),"max"===(null===(A=x.price)||void 0===A?void 0:A.type)&&Object(w.jsx)(H,{msg:"Supera el precio m\xe1ximo"})]}),Object(w.jsxs)("div",{className:"sell-form__input-container",children:[Object(w.jsx)("label",{htmlFor:"quantity",children:"Unidades disponibles:"}),Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"number",id:"input__product-quantity",onKeyPress:f},p("quantity",{required:!0,min:1,max:1e4}))),"required"===(null===(u=x.quantity)||void 0===u?void 0:u.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"}),"min"===(null===(d=x.quantity)||void 0===d?void 0:d.type)&&Object(w.jsx)(H,{msg:"No se puede cargar menos de una unidad"}),"max"===(null===(j=x.quantity)||void 0===j?void 0:j.type)&&Object(w.jsx)(H,{msg:"Supera la cantidad m\xe1xima de unidades que se pueden publicar"})]}),Object(w.jsx)("button",{className:"text-button primary-button",type:"submit",children:"Publicar"})]})})},z=c(21),Z="/api/users",$={register:function(e){return z.post(Z,e)},deleteAccount:function(e){var t=e._id;return z.delete("".concat(Z,"/").concat(t),e)}},ee=c(82),te=c(83),ce=function(e){var t=e.isPasswordHidden,c=e.setIsPasswordHidden,n=function(){c((function(e){return!e}))};return t?Object(w.jsx)(ee.a,{className:"password-input-eye big-icon",onClick:n}):Object(w.jsx)(te.a,{className:"password-input-eye big-icon",onClick:n})},ne=function(){var e=Object(n.useContext)(m),t=e.user,c=e.setUser,s=Object(Y.a)(),r=s.register,A=s.handleSubmit,u=s.formState.errors,l=s.reset,d=Object(n.useState)(!0),j=Object(a.a)(d,2),b=j[0],h=j[1],O=function(e){var t={username:e.username,name:e.name,surname:e.surname,password:e.password};$.register(t).then((function(e){Object(p.b)("Bienvenido, ".concat(e.data.name),{icon:"\ud83d\udc4b"}),c(e.data)})).catch((function(e){console.log("Error while registering new user:",e)})),l()};return t?Object(w.jsx)(i.a,{to:"/"}):function(){var e,t,c,n;return Object(w.jsxs)("form",{onSubmit:A(O),className:"form-container",children:[Object(w.jsx)("h2",{className:"form-title",children:"Registrarse"}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"text",placeholder:"Nombre"},r("name",{required:!0}))),"required"===(null===(e=u.username)||void 0===e?void 0:e.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"text",placeholder:"Apellido"},r("surname",{required:!0}))),"required"===(null===(t=u.username)||void 0===t?void 0:t.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"text",placeholder:"Usuario"},r("username",{required:!0}))),"required"===(null===(c=u.username)||void 0===c?void 0:c.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsxs)("div",{className:"password-input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:b?"password":"text",placeholder:"Contrase\xf1a"},r("password",{required:!0}))),Object(w.jsx)(ce,{isPasswordHidden:b,setIsPasswordHidden:h})]}),"required"===(null===(n=u.password)||void 0===n?void 0:n.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsx)("button",{type:"submit",className:"text-button primary-button",children:"Registrarse"}),Object(w.jsx)(o.b,{to:"/login",className:"form-link",children:"Ya tengo cuenta"})]})}()},se=c(3),re=c.n(se),ae=c(9),oe=function(){var e=Object(n.useContext)(m),t=e.user,c=e.setUser,s=Object(Y.a)(),r=s.register,A=s.handleSubmit,u=s.formState.errors,l=s.reset,d=Object(n.useState)(!0),j=Object(a.a)(d,2),h=j[0],O=j[1],x=function(e){var t=e.username,n=e.password;b.login({username:t,password:n}).then(function(){var e=Object(ae.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.data),e.next=3,b.getLoggedUser();case 3:n=e.sent,Object(p.b)("Hola, ".concat(n.data.name),{icon:"\ud83d\udc4b"}),c(n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){p.b.error("Usuario o contrase\xf1a incorrectos"),console.log("Error when loggin in:",e)})),l()};return t?Object(w.jsx)(i.a,{to:"/"}):function(){var e,t;return Object(w.jsxs)("form",{onSubmit:A(x),className:"form-container login-form",children:[Object(w.jsx)("h2",{className:"form-title",children:"Iniciar sesi\xf3n"}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:"text",placeholder:"Usuario"},r("username",{required:!0}))),"required"===(null===(e=u.username)||void 0===e?void 0:e.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsxs)("div",{className:"form-container__input-container",children:[Object(w.jsxs)("div",{className:"password-input-container",children:[Object(w.jsx)("input",Object(k.a)({className:"form-container__input",type:h?"password":"text",placeholder:"Contrase\xf1a"},r("password",{required:!0}))),Object(w.jsx)(ce,{isPasswordHidden:h,setIsPasswordHidden:O})]}),"required"===(null===(t=u.password)||void 0===t?void 0:t.type)&&Object(w.jsx)(H,{msg:"Este campo es requerido"})]}),Object(w.jsx)("button",{type:"submit",className:"text-button primary-button",children:"Iniciar sesi\xf3n"}),Object(w.jsx)(o.b,{to:"/register",className:"form-link",children:"A\xfan no tengo cuenta"})]})}()},ie=function(){var e=Object(n.useContext)(m),t=e.user,c=e.setUser,s=Object(i.g)();console.log(s);return Object(w.jsxs)("div",{className:"user-container",children:[Object(w.jsxs)("div",{className:"user-container__child user__profile",children:[Object(w.jsx)("div",{className:"user__img-container",children:Object(w.jsx)("img",{src:"data:image/png;base64,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",alt:"perfil de usuario",className:"user__img"})}),Object(w.jsx)("h2",{children:t.username}),Object(w.jsxs)("h3",{children:[t.name," ",t.surname]})]}),Object(w.jsxs)("div",{className:"user-container__child user__balance-container",children:[Object(w.jsx)("h3",{children:"Billetera: "}),Object(w.jsxs)("h2",{children:["$",d.numberWithCommas(t.balance)]}),Object(w.jsx)(o.b,{to:"/account/balance",className:"user__link",children:"Cargar dinero"})]}),Object(w.jsx)("div",{className:"user-container__child",children:Object(w.jsx)(o.b,{to:"/account/favorites",className:"user__link",children:"Favoritos"})}),Object(w.jsxs)("div",{className:"user-container__child user__links",children:[Object(w.jsx)(o.b,{to:"/account/publishedproducts",className:"user__link",children:"Mis publicaciones"}),Object(w.jsx)(o.b,{to:"/account/purchasedproducts",className:"user__link",children:"Historial de compra"}),Object(w.jsx)(o.b,{to:"/account/productssold",className:"user__link",children:"Historial de venta"})]}),Object(w.jsxs)("div",{className:"user-container__child danger-buttons-container",children:[Object(w.jsx)("button",{className:"text-button secondary-danger-button",onClick:function(){b.logout().then((function(e){Object(p.b)("Hasta pronto, ".concat(t.name),{icon:"\ud83d\udc4b"}),c(null)})),console.log("cambio el historial"),s.push("/")},children:"Cerrar sesi\xf3n"}),Object(w.jsx)("button",{className:"text-button primary-danger-button",onClick:function(){$.deleteAccount(t).then((function(e){Object(p.b)("Cuenta borrada exitosamente",{icon:"\ud83d\udc4c"}),c(null)})).catch((function(e){console.log("error:",e)}))},children:"Borrar cuenta"})]})]})},Ae=function(e){var t=e.product;return Object(w.jsxs)("div",{className:"product-card",children:[Object(w.jsx)("h3",{children:t.name}),Object(w.jsx)("p",{children:t.description}),Object(w.jsxs)("p",{children:["$",t.price]}),Object(w.jsxs)("p",{children:["quedan ",t.quantity]}),Object(w.jsx)("button",{className:"primary-danger-button",children:"Borrar publicacion"})]})},ue=function(){var e=Object(n.useContext)(m),t=e.user;e.setUser;return t.products.length>0?Object(w.jsx)("div",{className:"published-products-container",children:t.products.map((function(e){return Object(w.jsx)(Ae,{product:e},e._id)}))}):Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Todav\xeda no publicaste ning\xfan producto"}),Object(w.jsx)(o.b,{to:"/sell",className:"form-link",children:"Public\xe1 tu primer producto"})]})},le=function(){var e,t,c=Object(n.useContext)(m),s=c.user,r=c.setUser,a=Object(Y.a)(),o=a.register,i=a.handleSubmit,A=a.formState.errors,u=a.reset;return Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Tu saldo actual"}),Object(w.jsxs)("h3",{children:["$",d.numberWithCommas(s.balance)]}),Object(w.jsxs)("form",{onSubmit:i((function(e){var t=e;console.log("Cantidad a cargar:",t),R.updateUserBalance(s.username,t).then((function(e){console.log("Saldo aumentado exitosamente.\nSaldo actual:",e),r((function(t){return Object(k.a)(Object(k.a)({},t),{},{balance:e})}))})).catch((function(e){alert("Lo sentimos, no se pudo cargar el dinero"),console.log("Error on POST:",e)})),u()})),children:[Object(w.jsx)("label",{htmlFor:"amountToLoad",children:"$"}),Object(w.jsx)("input",Object(k.a)({type:"number",id:"input__amount-to-load",onKeyPress:function(e){(e.which<48||e.which>57)&&e.preventDefault()}},o("amountToLoad",{required:!0,min:1,max:1e4}))),Object(w.jsx)("button",{type:"submit",children:"Cargar saldo"}),"max"===(null===(e=A.amountToLoad)||void 0===e?void 0:e.type)&&Object(w.jsx)(H,{msg:"La cantidad m\xe1xima de saldo que se puede cargar es de $10,000"}),"min"===(null===(t=A.amountToLoad)||void 0===t?void 0:t.type)&&Object(w.jsx)(H,{msg:"No se puede cargar menos de $1"})]})]})},de=function(){var e=Object(n.useContext)(m).user;return Object(w.jsx)("div",{className:"latest-products-container",children:e.likedProducts.map((function(e){return Object(w.jsx)("div",{className:"latest-product",children:Object(w.jsx)(F,{product:e},e._id)})}))})},je=function(){var e=Object(n.useState)(null),t=Object(a.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),A=Object(a.a)(r,2),u=A[0],j=A[1],O=Object(n.useState)([]),x=Object(a.a)(O,2),g=x[0],Q=x[1],f=Object(n.useState)({}),B=Object(a.a)(f,2),E=B[0],C=B[1],v=Object(n.useState)(!0),U=Object(a.a)(v,2),N=U[0],I=U[1],k=Object(n.useState)(!1),S=Object(a.a)(k,2),M=S[0],y=S[1],q=Object(n.useState)(!1),D=Object(a.a)(q,2),R=D[0],P=D[1];Object(n.useEffect)((function(){b.getLoggedUser().then((function(e){s(e.data)})).catch((function(e){console.log("Error when getting logged user:",e)}))}),[]),Object(n.useEffect)((function(){l.getAll().then((function(e){if(console.log("Products fetched"),c){console.log(c.username);var t=e.filter((function(e){return e.user.username!==c.username}));Q(t),C(t[Math.floor(Math.random()*t.length)])}else Q(e),C(e[Math.floor(Math.random()*e.length)]);I(!1)}))}),[null===c||void 0===c?void 0:c.username]);return Object(w.jsx)(o.a,{children:Object(w.jsx)("div",{className:"App",onClick:function(e){return function(e){d.handleClickOutsideHambMenu(e,y),d.handleClickOutsideCartContainer(e,P)}(e)},children:Object(w.jsx)(m.Provider,{value:{user:c,setUser:s},children:Object(w.jsxs)(h.Provider,{value:{cart:u,setCart:j},children:[Object(w.jsx)(p.a,{}),Object(w.jsx)("button",{onClick:function(){console.log("usuario:",c)},children:"mostar usuario"}),Object(w.jsx)(K,{hambMenuState:{hambMenu:M,setHambMenu:y},cartState:{cartContainer:R,setCartContainer:P}}),Object(w.jsx)("main",{children:Object(w.jsxs)(i.d,{children:[Object(w.jsx)(i.b,{exact:!0,path:"/",children:N?"Cargando...":0===g.length?Object(w.jsx)("p",{children:"A\xfan no hay productos publicados, s\xe9 el primero."}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(L,{product:E}),Object(w.jsx)(_,{products:g})]})}),Object(w.jsx)(i.b,{path:"/products/:id",children:Object(w.jsx)(X,{})}),Object(w.jsx)(i.b,{path:"/sell",children:Object(w.jsx)(T,{})}),Object(w.jsx)(i.b,{path:"/register",children:Object(w.jsx)(ne,{})}),Object(w.jsx)(i.b,{path:"/login",children:Object(w.jsx)(oe,{})}),Object(w.jsx)(i.b,{exact:!0,path:"/account",children:Object(w.jsx)(ie,{})}),Object(w.jsx)(i.b,{path:"/account/balance",children:Object(w.jsx)(le,{})}),Object(w.jsx)(i.b,{path:"/account/favorites",children:Object(w.jsx)(de,{})}),Object(w.jsx)(i.b,{path:"/account/publishedproducts",children:Object(w.jsx)(ue,{})}),Object(w.jsx)(i.b,{path:"/",children:Object(w.jsx)("h2",{children:"Not found"})})]})})]})})})})};r.a.render(Object(w.jsx)(je,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.441d46e2.chunk.js.map